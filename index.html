<!doctype html>
<html lang="de">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Display – UR – Dateien einfach austauschen</title>
  <style>
    html, body { margin:0; height:100%; background:#000; color:#fff; font-family: system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial; }
    .wrap { position:fixed; inset:0; display:grid; place-items:center; padding: 6vmin; }
    #stage { width:100%; height:100%; display:grid; place-items:center; }
    #stage > img, #stage > video { max-width:100%; max-height:100%; object-fit:contain; background:#000; }
    #stage > iframe, #stage > embed { width:100%; height:100%; border:0; background:#000; }
    .msg { opacity:.7; font-size: clamp(14px, 2.5vmin, 18px); text-align:center; }
    .hint { position: fixed; right: 10px; bottom: 10px; opacity:.6; font-size: 12px; }
  </style>
</head>
<body>
  <div class="wrap">
    <div id="stage"><div class="msg">Suche nach Datei … (z. B. <strong>content.jpg</strong> / <strong>content.pdf</strong>)</div></div>
  </div>
  <div class="hint">UR – Dateien einfach austauschen</div>
  
    <script>
      // Try to find the first existing file among common names (no editing required).
      const candidates = [
        "content.html","index.html.content", // guard
        "content.jpg","content.png","content.gif","content.webp","content.svg",
        "content.pdf",
        "content.mp4","content.webm","content.ogg",
        "index.jpg","index.png","index.gif","index.webp","index.svg",
        "index.pdf",
        "index.mp4","index.webm","index.ogg"
      ];
      function pickCandidate() {
        return new Promise(async (resolve) => {
          for (const file of candidates) {
            try {
              const res = await fetch(file + "?_=" + Date.now(), { method: "HEAD" });
              if (res.ok) return resolve(file);
            } catch (e) {}
          }
          resolve(null);
        });
      }
      function render(url) {
        const c = document.getElementById("stage");
        c.innerHTML = "";
        if (!url) {
          c.innerHTML = '<div class="msg">(Noch keine Datei gefunden. Lade z. B. <strong>content.jpg</strong> oder <strong>content.pdf</strong> hoch.)</div>';
          return;
        }
        const u = url.toLowerCase();
        if (u.endsWith(".png") || u.endsWith(".jpg") || u.endsWith(".jpeg") || u.endsWith(".gif") || u.endsWith(".webp") || u.endsWith(".svg")) {
          const img = new Image(); img.src = url + "?_=" + Date.now(); img.alt = url; c.appendChild(img);
        } else if (u.endsWith(".mp4") || u.endsWith(".webm") || u.endsWith(".ogg")) {
          const v = document.createElement("video");
          v.src = url + "?_=" + Date.now(); v.autoplay = true; v.loop = true; v.muted = true; v.controls = false; v.playsInline = true; c.appendChild(v);
        } else if (u.endsWith(".pdf")) {
          const emb = document.createElement("embed"); emb.type = "application/pdf"; emb.src = url + "#view=FitH"; c.appendChild(emb);
        } else if (u.endsWith(".html") || u.endsWith(".htm")) {
          const fr = document.createElement("iframe"); fr.src = url + "?_=" + Date.now(); c.appendChild(fr);
        } else {
          const fr = document.createElement("iframe"); fr.src = url + "?_=" + Date.now(); c.appendChild(fr);
        }
      }
      async function init() {
        const picked = await pickCandidate();
        render(picked);
        // Poll for changes every minute to catch replaced files
        setInterval(async () => {
          const p = await pickCandidate();
          render(p);
        }, 60 * 1000);
      }
      init();
    </script>
    
</body>
</html>
